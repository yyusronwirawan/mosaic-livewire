<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\DataFeed;

class AnalyticsTableSeeder extends Seeder
{

    protected $data = [            
        [
            'type' => 10,
            'labels' => [
                '12-01-2020', '01-01-2021', '02-01-2021',
                '03-01-2021', '04-01-2021', '05-01-2021',
                '06-01-2021', '07-01-2021', '08-01-2021',
                '09-01-2021', '10-01-2021', '11-01-2021',
                '12-01-2021', '01-01-2022', '02-01-2022',
                '03-01-2022', '04-01-2022', '05-01-2022',
                '06-01-2022', '07-01-2022', '08-01-2022',
                '09-01-2022', '10-01-2022', '11-01-2022',
                '12-01-2022', '01-01-2023',
            ],
            'data' => [
                5000, 8700, 7500, 12000, 11000, 9500, 10500,
                10000, 15000, 9000, 10000, 7000, 22000, 7200,
                9800, 9000, 10000, 8000, 15000, 12000, 11000,
                13000, 11000, 15000, 17000, 18000,
            ],
            'dataset_name' => 1
        ],
        [
            'type' => 10,
            'labels' => null,
            'data' => [
                8000, 5000, 6500, 5000, 6500, 12000, 8000,
                9000, 8000, 8000, 12500, 10000, 10000, 12000,
                11000, 16000, 12000, 10000, 10000, 14000, 9000,
                10000, 15000, 12500, 14000, 11000,
            ],
            'dataset_name' => 2
        ],
        [
            'type' => 11,
            'labels' => [
                '12-01-2020', '01-01-2021', '02-01-2021',
                '03-01-2021', '04-01-2021', '05-01-2021',
                '06-01-2021', '07-01-2021', '08-01-2021',
                '09-01-2021', '10-01-2021', '11-01-2021',
                '12-01-2021', '01-01-2022', '02-01-2022',
                '03-01-2022', '04-01-2022', '05-01-2022',
                '06-01-2022', '07-01-2022', '08-01-2022',
                '09-01-2022', '10-01-2022', '11-01-2022',
                '12-01-2022', '01-01-2023',
            ],
            'data' => [
                732, 610, 610, 504, 504, 504, 349,
                349, 504, 342, 504, 610, 391, 192,
                154, 273, 191, 191, 126, 263, 349,
                252, 423, 622, 470, 532,
            ]
        ],
        [
            'type' => 12,
            'labels' => [
                '12-01-2020', '01-01-2021', '02-01-2021',
                '03-01-2021', '04-01-2021', '05-01-2021',
            ],
            'data' => [
                5000, 4000, 4000, 3800, 5200, 5100,
            ],
            'dataset_name' => 1
        ],
        [
            'type' => 12,
            'labels' => null,
            'data' => [
                2500, 2600, 4000, 4000, 4800, 3500,
            ],
            'dataset_name' => 2
        ],
        [
            'type' => 12,
            'labels' => null,
            'data' => [
                2300, 2000, 3100, 2700, 1300, 2600,
            ],
            'dataset_name' => 3
        ],
        [
            'type' => 12,
            'labels' => null,
            'data' => [
                4800, 4200, 4800, 1800, 3300, 3500,
            ],
            'dataset_name' => 4
        ],
        [
            'type' => 13,
            'labels' => [
                '02-01-2021', '03-01-2021', '04-01-2021', '05-01-2021',
            ],
            'data' => [
                8000, 3800, 5350, 7800,
            ],
            'dataset_name' => 1
        ],
        [
            'type' => 13,
            'labels' => null,
            'data' => [
                4000, 6500, 2200, 5800,
            ],
            'dataset_name' => 2
        ],
        [
            'type' => 14,
            'labels' => [
                'Desktop', 'Mobile', 'Tablet',
            ],
            'data' => [
                12, 50, 38,
            ]
        ],
        [
            'type' => 15,
            'labels' => [
                '<18', '18-24', '24-36', '>35',
            ],
            'data' => [
                30, 50, 5, 15,
            ]
        ],             
        [
            'type' => 16,
            'labels' => [
                'Males', 'Females', 'Unknown',
            ],
            'data' => [
                500, 326, 242,
            ]
        ],
    ];

    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {

        foreach($this->data as $d) {
            for($i=0; $i<count($d['data']); $i++) {
                DataFeed::create([
                    'data_type' => $d['type'],
                    'label' => (isset($d['labels'][$i]) ? $d['labels'][$i] : null),
                    'data' => $d['data'][$i],
                    'dataset_name' => (isset($d['dataset_name']) ? $d['dataset_name'] : null),
                ]);
            }
        }

    }
}
